<div class="events-container">
  <div class="header">
    <h1>Available Events</h1>
    <p class="subtitle">Browse and reserve tickets for upcoming concerts</p>
  </div>

  <div *ngIf="loading" class="loading-container">
    <mat-spinner diameter="60"></mat-spinner>
    <p>Loading events...</p>
  </div>

  <div *ngIf="errorMessage && !loading" class="error-message">
    <mat-icon>error</mat-icon>
    <span>{{ errorMessage }}</span>
  </div>

  <div *ngIf="!loading && !errorMessage && events.length === 0" class="empty-state">
    <mat-icon>event_busy</mat-icon>
    <h2>No Events Available</h2>
    <p>There are currently no published events. Please check back later!</p>
  </div>

  <div *ngIf="!loading && !errorMessage && events.length > 0" class="events-grid">
    <mat-card *ngFor="let event of events" class="event-card">
      <mat-card-header>
        <mat-card-title>{{ event.name }}</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <div class="event-info">
          <div class="info-row">
            <mat-icon>event</mat-icon>
            <span>{{ formatDate(event.eventDateTime) }}</span>
          </div>

          <div class="info-row">
            <mat-icon>confirmation_number</mat-icon>
            <span>{{ event.availableTickets }} / {{ event.capacity }} tickets available</span>
          </div>

          <div class="info-row">
            <mat-icon>attach_money</mat-icon>
            <span class="price">{{ formatPrice(event.price) }}</span>
          </div>

          <p class="description">{{ event.description }}</p>

          <div class="availability-indicator" [class.sold-out]="event.availableTickets === 0">
            <span *ngIf="event.availableTickets > 0" class="available">Available</span>
            <span *ngIf="event.availableTickets === 0" class="sold-out-text">Sold Out</span>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <button mat-raised-button color="primary" (click)="viewEventDetails(event.id)">
          View Details
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
